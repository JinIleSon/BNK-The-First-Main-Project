<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>í‡´ì§ì—°ê¸ˆ ê¸°ì—…ë±…í‚¹ - ì§ì› ì¡°íšŒ</title>
    <style>
        /* ---------------------- ê³µí†µ ë ˆì´ì•„ì›ƒ ---------------------- */
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: "Noto Sans KR", system-ui, -apple-system, sans-serif;
            background-color: #f4f5f9;
            color: #222;
        }

        .page-container {
            max-width: 1100px;
            margin: 40px auto;
            padding: 24px;
        }

        h1 {
            margin: 0 0 16px;
            font-size: 24px;
        }

        .subtitle {
            font-size: 13px;
            color: #777;
            margin-bottom: 24px;
        }

        /* ---------------------- ê²€ìƒ‰/í•„í„° ì˜ì—­ ---------------------- */
        .toolbar {
            display: flex;
            gap: 12px;
            align-items: center;
            margin-bottom: 16px;
        }

        .toolbar input[type="text"],
        .toolbar select {
            padding: 8px 10px;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 14px;
        }

        .toolbar input[type="text"] {
            flex: 1;
        }

        .toolbar button {
            padding: 8px 14px;
            border-radius: 6px;
            border: none;
            font-size: 14px;
            cursor: pointer;
            background-color: #d91a1a;
            color: white;
        }

        .toolbar button:hover {
            opacity: 0.9;
        }

        /* ---------------------- ë©”ì¸ ì˜ì—­(ëª©ë¡+ìƒì„¸) ---------------------- */
        .content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 16px;
        }

        /* ---------------------- ì§ì› ëª©ë¡ í…Œì´ë¸” ---------------------- */
        .card {
            background-color: white;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.06);
        }

        .card-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }

        thead {
            background-color: #fafafa;
        }

        th, td {
            padding: 8px 10px;
            border-bottom: 1px solid #eee;
            text-align: left;
            white-space: nowrap;
        }

        th {
            font-weight: 600;
            color: #555;
        }

        tbody tr {
            cursor: pointer;
        }

        tbody tr:hover {
            background-color: #f9f1f1;
        }

        .tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 999px;
            font-size: 11px;
        }

        .tag-db {
            background-color: #ffe4e4;
            color: #b01010;
        }

        .tag-dc {
            background-color: #e5f2ff;
            color: #0b5ebf;
        }

        .status-active {
            color: #0c8a3f;
            font-weight: 600;
        }

        .status-retired {
            color: #999;
            font-weight: 600;
        }

        /* ---------------------- ì§ì› ìƒì„¸ ì¹´ë“œ ---------------------- */
        .detail-row {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-bottom: 8px;
        }

        .detail-label {
            color: #777;
        }

        .detail-value {
            font-weight: 500;
        }

        .balance-box {
            margin-top: 16px;
            padding: 12px;
            background: linear-gradient(135deg, #d91a1a, #ff7b6e);
            border-radius: 8px;
            color: white;
        }

        .balance-label {
            font-size: 13px;
            opacity: 0.9;
            margin-bottom: 4px;
        }

        .balance-value {
            font-size: 20px;
            font-weight: 700;
        }

        .empty-text {
            font-size: 13px;
            color: #888;
        }

        /* ---------------------- ë°˜ì‘í˜• (ì¢ì€ í™”ë©´) ---------------------- */
        @media (max-width: 900px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
    </style>
    <link rel="stylesheet" th:href="@{/css/corporate/corporate_main.css}">

</head>
<body>


<!-- ğŸŒŸ ì‚¬ì´ë“œë°”(í–„ë²„ê±°) ì‚½ì… -->
<div th:replace="layouts/corporate/_aside :: sidebar"></div>

<div class="page-container">
    <!-- 1. í˜ì´ì§€ ì œëª© ì˜ì—­ -->
    <h1>í‡´ì§ì—°ê¸ˆ ì§ì› ì¡°íšŒ</h1>
    <div class="subtitle">
        EMPLOYEE í…Œì´ë¸” ê¸°ë°˜ìœ¼ë¡œ ì§ì›ë³„ ì œë„ ìœ í˜•, ê³„ì¢Œë²ˆí˜¸, í˜„ì¬ ì ë¦½ê¸ˆì„ ì¡°íšŒí•˜ëŠ” í™”ë©´ì…ë‹ˆë‹¤.
    </div>

    <!-- 2. ê²€ìƒ‰/í•„í„° ì˜ì—­ -->
    <div class="toolbar">
        <input type="text" id="searchInput" placeholder="ì§ì› ì´ë¦„ ë˜ëŠ” ê³„ì¢Œë²ˆí˜¸ ê²€ìƒ‰">
        <select id="planFilter">
            <option value="">ì „ì²´ ì œë„</option>
            <option value="DB">DB ì œë„ë§Œ</option>
            <option value="DC">DC ì œë„ë§Œ</option>
        </select>
        <button id="resetBtn">ì´ˆê¸°í™”</button>
    </div>

    <!-- 3. ë©”ì¸ ì½˜í…ì¸ : ì§ì› ëª©ë¡ + ìƒì„¸ ì •ë³´ -->
    <div class="content">
        <!-- 3-1. ì§ì› ëª©ë¡ ì¹´ë“œ -->
        <div class="card">
            <div class="card-title">ì§ì› ëª©ë¡</div>
            <table>
                <thead>
                <tr>
                    <th>ì§ì›ID</th>
                    <th>ì´ë¦„</th>
                    <th>ì œë„</th>
                    <th>ê³„ì¢Œë²ˆí˜¸</th>
                    <th>ì¬ì§ ìƒíƒœ</th>
                </tr>
                </thead>
                <tbody id="employeeTbody">
                <!-- JSë¡œ ë Œë”ë§ -->
                </tbody>
            </table>
        </div>

        <!-- 3-2. ì§ì› ìƒì„¸ ì¹´ë“œ -->
        <div class="card">
            <div class="card-title">ì§ì› ìƒì„¸ì •ë³´</div>
            <div id="detailArea">
                <p class="empty-text">ì™¼ìª½ ëª©ë¡ì—ì„œ ì§ì›ì„ ì„ íƒí•˜ë©´ ìƒì„¸ì •ë³´ì™€ í˜„ì¬ ì ë¦½ê¸ˆì´ í‘œì‹œë©ë‹ˆë‹¤.</p>
            </div>
        </div>
    </div>
</div>

<script>
    /* ============================================================
       1. ë”ë¯¸ ë°ì´í„° (ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì„œë²„/DBì—ì„œ ë‚´ë ¤ì£¼ëŠ” ê°’)
       EMPLOYEE í…Œì´ë¸” ì»¬ëŸ¼ê³¼ ë§ì¶”ì–´ êµ¬ì„±:
       - empId   -> EMPID
       - name    -> NAME
       - planType-> PLANTYPE
       - accountNo -> ACCOUNTNO
       - status  -> STATUS
       + balance (í˜„ì¬ ì ë¦½ê¸ˆ, í™”ë©´ í‘œì‹œìš©)
    ============================================================ */
    const employees = [
        {empId: 1, name: "ê¹€í•˜ëŠ˜", planType: "DB", accountNo: "123-456-789012", status: "ACTIVE",  balance: 12800000},
        {empId: 2, name: "ì´ì¤€í˜¸", planType: "DC", accountNo: "987-654-321098", status: "ACTIVE",  balance: 8200000},
        {empId: 3, name: "ë°•ë¯¼ì§€", planType: "DB", accountNo: "110-220-330044", status: "RETIRED", balance: 27600000},
        {empId: 4, name: "ì •ì†Œìœ¤", planType: "DC", accountNo: "222-333-444555", status: "ACTIVE",  balance: 5600000},
        {empId: 5, name: "ìµœìœ ì§„", planType: "DB", accountNo: "333-444-555666", status: "ACTIVE",  balance: 19300000}
    ];

    /* ============================================================
       2. ìœ í‹¸: ìˆ«ìë¥¼ ì›í™” í˜•ì‹ìœ¼ë¡œ ë³€í™˜ (ì˜ˆ: 12,800,000ì›)
    ============================================================ */
    function formatMoney(amount) {
        return amount.toLocaleString("ko-KR") + "ì›";
    }

    /* ============================================================
       3. ì§ì› ëª©ë¡ í…Œì´ë¸” ë Œë”ë§
    ============================================================ */
    const tbody = document.getElementById("employeeTbody");
    const detailArea = document.getElementById("detailArea");
    const searchInput = document.getElementById("searchInput");
    const planFilter = document.getElementById("planFilter");
    const resetBtn = document.getElementById("resetBtn");

    function renderTable(list) {
        tbody.innerHTML = "";

        if (list.length === 0) {
            const tr = document.createElement("tr");
            const td = document.createElement("td");
            td.colSpan = 5;
            td.className = "empty-text";
            td.textContent = "ì¡°ê±´ì— ë§ëŠ” ì§ì›ì´ ì—†ìŠµë‹ˆë‹¤.";
            tr.appendChild(td);
            tbody.appendChild(tr);
            return;
        }

        list.forEach(emp => {
            const tr = document.createElement("tr");

            tr.innerHTML = `
                <td>${emp.empId}</td>
                <td>${emp.name}</td>
                <td>
                    <span class="tag ${emp.planType === "DB" ? "tag-db" : "tag-dc"}">
                        ${emp.planType}
                    </span>
                </td>
                <td>${emp.accountNo}</td>
                <td class="${emp.status === "ACTIVE" ? "status-active" : "status-retired"}">
                    ${emp.status === "ACTIVE" ? "ì¬ì§" : "í‡´ì‚¬"}
                </td>
            `;

            // í–‰ í´ë¦­ ì‹œ ìƒì„¸ ì •ë³´ ì¶œë ¥
            tr.addEventListener("click", () => {
                renderDetail(emp);
            });


            tbody.appendChild(tr);
        });
    }

    /* ============================================================
       4. ìƒì„¸ ì •ë³´ ì¹´ë“œ ë Œë”ë§
    ============================================================ */
    function renderDetail(emp) {
        detailArea.innerHTML = `
            <div class="detail-row">
                <div class="detail-label">ì§ì› ID</div>
                <div class="detail-value">${emp.empId}</div>
            </div>
            <div class="detail-row">
                <div class="detail-label">ì§ì› ì´ë¦„</div>
                <div class="detail-value">${emp.name}</div>
            </div>
            <div class="detail-row">
                <div class="detail-label">ì œë„ ìœ í˜•</div>
                <div class="detail-value">${emp.planType}</div>
            </div>
            <div class="detail-row">
                <div class="detail-label">ê³„ì¢Œë²ˆí˜¸</div>
                <div class="detail-value">${emp.accountNo}</div>
            </div>
            <div class="detail-row">
                <div class="detail-label">ì¬ì§ ìƒíƒœ</div>
                <div class="detail-value">${emp.status === "ACTIVE" ? "ì¬ì§" : "í‡´ì‚¬"}</div>
            </div>

            <div class="balance-box">
                <div class="balance-label">í˜„ì¬ ì ë¦½ê¸ˆ</div>
                <div class="balance-value">${formatMoney(emp.balance)}</div>
            </div>
        `;
    }

    /* ============================================================
       5. ê²€ìƒ‰/í•„í„° ê¸°ëŠ¥
       - ì´ë¦„ ë˜ëŠ” ê³„ì¢Œë²ˆí˜¸ í…ìŠ¤íŠ¸ ê²€ìƒ‰
       - ì œë„(DB/DC) í•„í„°
    ============================================================ */
    function applyFilter() {
        const keyword = searchInput.value.trim();
        const plan = planFilter.value;

        const filtered = employees.filter(emp => {
            const matchPlan = plan ? emp.planType === plan : true;
            const matchKeyword = keyword
                ? (emp.name.includes(keyword) || emp.accountNo.includes(keyword))
                : true;

            return matchPlan && matchKeyword;
        });

        renderTable(filtered);

        // í•„í„° í›„ ìƒì„¸ ì˜ì—­ ì´ˆê¸°í™”
        detailArea.innerHTML = `<p class="empty-text">ì™¼ìª½ ëª©ë¡ì—ì„œ ì§ì›ì„ ì„ íƒí•˜ë©´ ìƒì„¸ì •ë³´ì™€ í˜„ì¬ ì ë¦½ê¸ˆì´ í‘œì‹œë©ë‹ˆë‹¤.</p>`;
    }

    searchInput.addEventListener("input", applyFilter);
    planFilter.addEventListener("change", applyFilter);

    resetBtn.addEventListener("click", () => {
        searchInput.value = "";
        planFilter.value = "";
        renderTable(employees);
        detailArea.innerHTML = `<p class="empty-text">ì™¼ìª½ ëª©ë¡ì—ì„œ ì§ì›ì„ ì„ íƒí•˜ë©´ ìƒì„¸ì •ë³´ì™€ í˜„ì¬ ì ë¦½ê¸ˆì´ í‘œì‹œë©ë‹ˆë‹¤.</p>`;
    });

    /* ============================================================
       6. ì´ˆê¸° ë Œë”ë§
    ============================================================ */
    renderTable(employees);
</script>
<script th:src="@{/js/corporate/corporate_main.js}"></script>

</body>
</html>
