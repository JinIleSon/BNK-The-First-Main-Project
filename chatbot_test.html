<script type="module">
      import Chatbot from "https://cdn.jsdelivr.net/npm/flowise-embed/dist/web.js"

      Chatbot.init({
        chatflowid: "c5c35ce4-18cb-4928-b072-f805252e5889",
        apiHost: "http://localhost:3000",

        // RAG/ëª¨ë¸ íŒŒë¼ë¯¸í„° â†“ (í•„ìš” ì—†ìœ¼ë©´ ë¹„ì›Œë‘¬ë„ ë©ë‹ˆë‹¤)
        chatflowConfig: {
            returnSourceDocuments: false,   // "question:..." ì¹© ì œê±°
        },

        // ğŸ”µ UI/ë¬¸êµ¬ ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ
        theme: {
          button: { backgroundColor: "#0064FF", color: "#fff" },
          chatWindow: {
            title: "BNK FAQ ì±—ë´‡",
            welcomeMessage: "ì•ˆë…•í•˜ì„¸ìš”! BNK FAQ ì±—ë´‡ì…ë‹ˆë‹¤. ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?",
            inputPlaceholder: "ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”...",
            backgroundColor: "#ffffff",
            fontSize: "15px",
            // ìƒ˜í”Œ ì§ˆë¬¸
            starterPrompts: [
                "ê³„ì¢Œ ê°œì„¤ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?",
                "ì²´í¬ì¹´ë“œ ì¬ë°œê¸‰ ë°©ë²• ì•Œë ¤ì¤˜ìš”",
                "ì˜ˆê¸ˆ ê¸ˆë¦¬ëŠ” ì–´ë””ì„œ í™•ì¸í•  ìˆ˜ ìˆë‚˜ìš”?",
                "ë¹„ëŒ€ë©´ ê³„ì¢Œ ê°œì„¤ ì‹œ í•„ìš”í•œ ê²ƒì€ ë¬´ì—‡ì¸ê°€ìš”?"
            ],
            starterPromptFontSize: 15, // ì¹© ê¸€ì í¬ê¸°
            botMessage: { backgroundColor: "#f3f6ff" },
            userMessage: { backgroundColor: "#0064FF", textColor: "#ffffff" }
            
          }
        }
      })
      // â— Shadow DOM ë‚´ë¶€ ì¹© ì œê±°/ìˆ¨ê¹€
    const hideChips = () => {
        const el = document.querySelector('flowise-chatbot')
        const root = el && el.shadowRoot
        if (!root) return

        // í‘œì‹œ ìì²´ë¥¼ ì—†ì• ê³  ì‹¶ìœ¼ë©´ remove(), ìˆ¨ê¸°ê¸°ë§Œ í•˜ë ¤ë©´ style.display='none'
        root.querySelectorAll('.chatbot-button.selectable, [data-testid="host-bubble"][role="button"]')
            .forEach(node => node.remove())
    }

    // ìœ„ì ¯ì´ ë¡œë“œëœ ë’¤ì—ë„ ìƒˆ ì¹©ì´ ìƒê¸¸ ìˆ˜ ìˆì–´ ì£¼ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬
    const interval = setInterval(() => {
        const el = document.querySelector('flowise-chatbot')
        if (!el) return
        hideChips()
    }, 300)

    // ì‚¬ìš©ìê°€ ì²« ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê³  ì‘ë‹µë°›ì„ ë•Œë„ í•œ ë²ˆ ë” ì •ë¦¬
    window.addEventListener('focus', hideChips)
    </script>
    <style>
        /* Flowise ì¹©/ì¶”ì²œ ë²„íŠ¼ë“¤ ì „ë¶€ ìˆ¨ê¹€ */
        .flowise-message-chips,
        .flowise-starter-prompts,
        .message-chips,
        .starter-prompts,
        .chips, .chip, .flowise-chip,
        div[class*="starterPrompt"],
        div[class*="message-suggestion"],
        div[class*="chip"] {
            display: none !important;
        }
    </style>